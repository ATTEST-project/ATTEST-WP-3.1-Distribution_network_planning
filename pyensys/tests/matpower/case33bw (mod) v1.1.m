function mpc = case33bw
%CASE33BW Power flow data for 33 bus distribution system from Baran & Wu
%  Please see CASEFORMAT for details on the case file format.
%
%  Data from ...
%    M. E. Baran and F. F. Wu, "Network reconfiguration in distribution
%    systems for loss reduction and load balancing," in IEEE Transactions
%    on Power Delivery, vol. 4, no. 2, pp. 1401-1407, Apr 1989.
%    doi: 10.1109/61.25627
%    URL: https://doi.org/10.1109/61.25627

%% MATPOWER Case Format : Version 2
mpc.version = '2';

%%----- Power Flow Data -----%%
%% system MVA base
mpc.baseMVA = 10;

%% bus data
%	bus_i	type	Pd	Qd	Gs	Bs	area	Vm	Va	baseKV	zone	Vmax	Vmin
mpc.bus = [ %% Pd and Qd are already converted to MVA
1  3     0     0     0     0  1  1     0  12.6600  1  1.1000  0.9000; % initially, Vmax and Vmin were == 1
2  1  0.1000  0.0600     0     0  1  1     0  12.6600  1  1.1000  0.9000;
3  1  0.0900  0.0400     0     0  1  1     0  12.6600  1  1.1000  0.9000;
4  1  0.1200  0.0800     0     0  1  1     0  12.6600  1  1.1000  0.9000;
5  1  0.0600  0.0300     0     0  1  1     0  12.6600  1  1.1000  0.9000;
6  1  0.0600  0.0200     0     0  1  1     0  12.6600  1  1.1000  0.9000;
7  1  0.2000  0.1000     0     0  1  1     0  12.6600  1  1.1000  0.9000;
8  1  0.2000  0.1000     0     0  1  1     0  12.6600  1  1.1000  0.9000;
9  1  0.0600  0.0200     0     0  1  1     0  12.6600  1  1.1000  0.9000;
10  1  0.0600  0.0200     0     0  1  1     0  12.6600  1  1.1000  0.9000;
11  1  0.0450  0.0300     0     0  1  1     0  12.6600  1  1.1000  0.9000;
12  1  0.0600  0.0350     0     0  1  1     0  12.6600  1  1.1000  0.9000;
13  1  0.0600  0.0350     0     0  1  1     0  12.6600  1  1.1000  0.9000;
14  1  0.1200  0.0800     0     0  1  1     0  12.6600  1  1.1000  0.9000;
15  1  0.0600  0.0100     0     0  1  1     0  12.6600  1  1.1000  0.9000;
16  1  0.0600  0.0200     0     0  1  1     0  12.6600  1  1.1000  0.9000;
17  1  0.0600  0.0200     0     0  1  1     0  12.6600  1  1.1000  0.9000;
18  1  0.0900  0.0400     0     0  1  1     0  12.6600  1  1.1000  0.9000;
19  1  0.0900  0.0400     0     0  1  1     0  12.6600  1  1.1000  0.9000;
20  1  0.0900  0.0400     0     0  1  1     0  12.6600  1  1.1000  0.9000;
21  1  0.0900  0.0400     0     0  1  1     0  12.6600  1  1.1000  0.9000;
22  1  0.0900  0.0400     0     0  1  1     0  12.6600  1  1.1000  0.9000;
23  1  0.0900  0.0500     0     0  1  1     0  12.6600  1  1.1000  0.9000;
24  1  0.4200  0.2000     0     0  1  1     0  12.6600  1  1.1000  0.9000;
25  1  0.4200  0.2000     0     0  1  1     0  12.6600  1  1.1000  0.9000;
26  1  0.0600  0.0250     0     0  1  1     0  12.6600  1  1.1000  0.9000;
27  1  0.0600  0.0250     0     0  1  1     0  12.6600  1  1.1000  0.9000;
28  1  0.0600  0.0200     0     0  1  1     0  12.6600  1  1.1000  0.9000;
29  1  0.1200  0.0700     0     0  1  1     0  12.6600  1  1.1000  0.9000;
30  1  0.2000  0.6000     0     0  1  1     0  12.6600  1  1.1000  0.9000;
31  1  0.1500  0.0700     0     0  1  1     0  12.6600  1  1.1000  0.9000;
32  1  0.2100  0.1000     0     0  1  1     0  12.6600  1  1.1000  0.9000;
33  1  0.0600  0.0400     0     0  1  1     0  12.6600  1  1.1000  0.9000;
];

%% generator data
%	bus	Pg	Qg	Qmax	Qmin	Vg	mBase	status	Pmax	Pmin	Pc1	Pc2	Qc1min	Qc1max	Qc2min	Qc2max	ramp_agc	ramp_10	ramp_30	ramp_q	apf
mpc.gen = [
	1	0	0	10	-10	1	100	1	10	-10	0	0	0	0	0	0	0	0	0	0	0;
];

%% branch data
%	fbus	tbus	r	x	b	rateA	rateB	rateC	ratio	angle	status	angmin	angmax
mpc.branch = [ %% r and x already converted to p.u.
1  2  0.0058  0.0029     0     0     0     0     0     0  1 -60 60;
2  3  0.0308  0.0157     0     0     0     0     0     0  1 -60 60;
3  4  0.0228  0.0116     0     0     0     0     0     0  1 -60 60;
4  5  0.0238  0.0121     0     0     0     0     0     0  1 -60 60;
5  6  0.0511  0.0441     0     0     0     0     0     0  1 -60 60;
6  7  0.0117  0.0386     0     0     0     0     0     0  1 -60 60;
7  8  0.0444  0.0147     0     0     0     0     0     0  1 -60 60;
8  9  0.0643  0.0462     0     0     0     0     0     0  1 -60 60;
9  10  0.0651  0.0462     0     0     0     0     0     0  1 -60 60;
10  11  0.0123  0.0041     0     0     0     0     0     0  1 -60 60;
11  12  0.0234  0.0077     0     0     0     0     0     0  1 -60 60;
12  13  0.0916  0.0721     0     0     0     0     0     0  1 -60 60;
13  14  0.0338  0.0445     0     0     0     0     0     0  1 -60 60;
14  15  0.0369  0.0328     0     0     0     0     0     0  1 -60 60;
15  16  0.0466  0.0340     0     0     0     0     0     0  1 -60 60;
16  17  0.0804  0.1074     0     0     0     0     0     0  1 -60 60;
17  18  0.0457  0.0358     0     0     0     0     0     0  1 -60 60;
2  19  0.0102  0.0098     0     0     0     0     0     0  1 -60 60;
19  20  0.0939  0.0846     0     0     0     0     0     0  1 -60 60;
20  21  0.0255  0.0298     0     0     0     0     0     0  1 -60 60;
21  22  0.0442  0.0585     0     0     0     0     0     0  1 -60 60;
3  23  0.0282  0.0192     0     0     0     0     0     0  1 -60 60;
23  24  0.0560  0.0442     0     0     0     0     0     0  1 -60 60;
24  25  0.0559  0.0437     0     0     0     0     0     0  1 -60 60;
6  26  0.0127  0.0065     0     0     0     0     0     0  1 -60 60;
26  27  0.0177  0.0090     0     0     0     0     0     0  1 -60 60;
27  28  0.0661  0.0583     0     0     0     0     0     0  1 -60 60;
28  29  0.0502  0.0437     0     0     0     0     0     0  1 -60 60;
29  30  0.0317  0.0161     0     0     0     0     0     0  1 -60 60;
30  31  0.0608  0.0601     0     0     0     0     0     0  1 -60 60;
31  32  0.0194  0.0226     0     0     0     0     0     0  1 -60 60;
32  33  0.0213  0.0331     0     0     0     0     0     0  1 -60 60;
];

%%----- OPF Data -----%%
%% generator cost data
%	1	startup	shutdown	n	x1	y1	...	xn	yn
%	2	startup	shutdown	n	c(n-1)	...	c0
mpc.gencost = [
	2	0	0	3	0	20	0;
];
